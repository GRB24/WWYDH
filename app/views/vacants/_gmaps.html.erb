<script src="//maps.google.com/maps/api/js?v=3.18&sensor=false&client=&key=&libraries=geometry&language=&hl=&region="></script>
<script src="//google-maps-utility-library-v3.googlecode.com/svn/tags/markerclustererplus/2.0.14/src/markerclusterer_packed.js"></script>

<div style='width: 800px;'>
  <div id="map" style='width: 800px; height: 400px;'></div>
</div>

<script type="text/javascript">

handler = Gmaps.build('Google');
handler.buildMap({
  provider: {
    // disableDefaultUI: true
    // pass in other Google Maps API options here
  },
  internal: {
    id: 'map'
  }
},
function(){
  var lat = <%= @vacant.latitude %>;
  var lng = <%= @vacant.longitude %>;
  markers = handler.addMarkers([
    {
      "lat": lat,
      "lng": lng,
      "picture": {
        "url": "http://people.mozilla.com/~faaborg/files/shiretoko/firefoxIcon/firefox-32.png",
        "width":  32,
        "height": 32
      },
      "infowindow": "hello!"
    }
  ]);
  handler.bounds.extendWith(markers);
  handler.fitMapToBounds();
  handler.getMap().setZoom(15);
}
);

</script>
